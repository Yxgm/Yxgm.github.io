<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>基础问题 | 一宿更名_BLOG</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="一宿更名_BLOG">
    <meta name="author" content="盛祥玉">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="一宿更名_BLOG" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/1-Css/" class="animsition-link">1-Css<small>(11)</small></a></li>
				    
				    <li><a href="/categories/1-JavaScript/" class="animsition-link">1-JavaScript<small>(14)</small></a></li>
				    
				    <li><a href="/categories/1-TypeScript/" class="animsition-link">1-TypeScript<small>(3)</small></a></li>
				    
				    <li><a href="/categories/2-React/" class="animsition-link">2-React<small>(10)</small></a></li>
				    
				    <li><a href="/categories/2-React-Hooks/" class="animsition-link">2-React_Hooks<small>(5)</small></a></li>
				    
				    <li><a href="/categories/2-Redux和Router/" class="animsition-link">2-Redux和Router<small>(9)</small></a></li>
				    
				    <li><a href="/categories/2-Vue/" class="animsition-link">2-Vue<small>(12)</small></a></li>
				    
				    <li><a href="/categories/3-Brower/" class="animsition-link">3-Brower<small>(30)</small></a></li>
				    
				    <li><a href="/categories/4-Node/" class="animsition-link">4-Node<small>(1)</small></a></li>
				    
				    <li><a href="/categories/4-Promise/" class="animsition-link">4-Promise<small>(7)</small></a></li>
				    
				    <li><a href="/categories/4-Webpack/" class="animsition-link">4-Webpack<small>(8)</small></a></li>
				    
				    <li><a href="/categories/业务和思想/" class="animsition-link">业务和思想<small>(15)</small></a></li>
				    
				    <li><a href="/categories/前端大项/" class="animsition-link">前端大项<small>(9)</small></a></li>
				    
				    <li><a href="/categories/基础补充/" class="animsition-link">基础补充<small>(5)</small></a></li>
				    
				    <li><a href="/categories/框架差异/" class="animsition-link">框架差异<small>(8)</small></a></li>
				    
				    <li><a href="/categories/算法相关/" class="animsition-link">算法相关<small>(10)</small></a></li>
				    
				    <li><a href="/categories/超脱领悟/" class="animsition-link">超脱领悟<small>(9)</small></a></li>
				    
				    <li><a href="/categories/面试复盘/" class="animsition-link">面试复盘<small>(1)</small></a></li>
				    
				</ul>
        	</li>
			
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a target="_blank" rel="noopener" href="http://go.kieran.top/" class="animsition-link">Kieran</a></li>
                    
                    <li><a target="_blank" rel="noopener" href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">一宿更名_BLOG</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/Yxgm" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2022-03-26T05:17:02.000Z" itemprop="datePublished">
          2022-03-26
      </time>
    
</span>
                <h1>基础问题</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>是运行时，也即是文件打包好了之后，在运行的，所引入的文件路径，是打包后的路径。</p>
<p>require 是动态运行时引入资源的，加载的是webpack预编译后的文件路径</p>
<p>assets 下的文件适合存放经常变动的资源文件，webpack打包的时候，为了保证新老文件不产生冲突，会重新命名文件名称</p>
<p>static 下的文件，webpack会借助CopyWebpackPlugin这个插件将图片文件都复制到打包文件中去</p>
<p>遇到的需求问题：我们动态的决定一个组件的背景图片的时候，使用require函数来动态引入，但需要注意的是，使用background-image： url（）时，我们应该先报打包后的图片地址存储起来，之后在用对象映射的方法，动态切换图片</p>
<p>问：发送网络请求都有哪几种方式他问的是什么浏览器的url栏等等</p>
<p>​        在浏览器中，有<code>src</code>属性的标签 <code>&lt;script&gt;</code>、<code>&lt;img&gt;</code>、<code>&lt;iframe&gt;</code>和<code>&lt;link&gt;</code>是可以加载跨域（非同源）的资源的，并且加载的方式其实相当于一次普通的GET请求，唯一不同的是，为了安全起见，浏览器不允许这种方式下对加载到的资源的读写操作，而只能使用标签本身应当具备的能力（比如脚本执行、样式应用等等）。但是ajak提交是会存在跨域问题的，对于a标签的downlown只能是同源的url才可以下载</p>
<p>json序列化非常消耗性能，对字符串的读取，如果存储内容多的话会占用内存空间，会导致页面变卡。</p>
<p><code>Object.entries()</code>方法返回一个给定对象自身可枚举属性的键值对数组，其排列与使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> 循环遍历该对象时返回的顺序一致（区别在于 for-in 循环还会枚举原型链中的属性）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">name</span>: <span class="string">&#x27;sxy&#x27;</span>, <span class="attr">height</span>: <span class="number">1.88</span>&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj));</span><br><span class="line"><span class="comment">// [ [ &#x27;name&#x27;, &#x27;sxy&#x27; ], [ &#x27;height&#x27;, 1.88 ] ] 将对象转化为二维数组，并且常配合for of 使用</span></span><br></pre></td></tr></table></figure>

<p> <code>Object.fromEntries()</code> 方法把键值对列表转换为一个对象。 反向操作</p>
<p>base64编码的图片可以减少网络请求</p>
<p>settimeout 的第三个参数，是第一个参数（回调函数）的参数</p>
<p>react父组件，调用子组件方法，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">类组件 sub = <span class="title class_">React</span>.<span class="title function_">createRef</span>() </span><br><span class="line"><span class="number">1.</span> 需要加<span class="variable language_">this</span>.<span class="property">sub</span>.<span class="property">current</span>， 调用   &lt;<span class="title class_">Sub</span> ref=&#123;<span class="variable language_">this</span>.<span class="property">sub</span>&#125;/&gt;</span><br><span class="line"><span class="number">2.</span> 不需要加<span class="title function_">current</span>(一般我们写成后者，函数声明) &lt;<span class="title class_">Sub</span> ref = <span class="function"><span class="params">node</span>=&gt;</span><span class="variable language_">this</span>.<span class="property">sub</span>=node/&gt; </span><br><span class="line"><span class="number">3.</span> 不需要加current &lt;<span class="title class_">Sub</span> onRef = <span class="function"><span class="params">node</span>=&gt;</span><span class="variable language_">this</span>.<span class="property">sub</span>=node/&gt;  写成props，传递给子组件，子组件在cdm阶段调用</span><br><span class="line">函数组件 </span><br><span class="line"><span class="number">1.</span> 使用forwardRef抛出子组件的ref，无论是不是<span class="variable constant_">HOC</span>，都可使用这个forwardRef，进行ref转发</span><br><span class="line"><span class="number">2.</span> use..<span class="property">handle</span>，缩小ref</span><br></pre></td></tr></table></figure>

<p>map比foreach更快</p>
<p>数组reverse之后，地址不变</p>
<p>数组中的join，以参数连接，字符串split，以参数为分割，拼接数组，字符串没有join方法 数组slice（）方法不写参数，直接浅拷贝concat方法也是浅拷贝</p>
<p>空字符串 转boolean 为false</p>
<p>splice返回删除的arr</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Sort</span>函数a.<span class="title function_">sort</span>(<span class="function">(<span class="params">next, pre</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> next - pre; <span class="comment">//后一减前一  &lt;0 为升序 </span></span><br><span class="line">  <span class="keyword">return</span> pre - next; <span class="comment">//          &gt;0 为降序</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">readFile</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./async.txt&#x27;</span>), <span class="string">&#x27;utf-8&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data));</span><br><span class="line">utf-<span class="number">8</span> 输出的是正常字符串，不加utf-<span class="number">8</span>，输出为buffer</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span> &gt;&gt; <span class="number">1</span>); 右移<span class="number">1</span>位，== <span class="number">50</span>(向下取整) 左移<span class="number">1</span>位等于<span class="number">200</span></span><br></pre></td></tr></table></figure>



<p>开发中父子组件数据的问题：一共有一个page ，两个component，上面是查询，下面是展示。</p>
<p>数据维护在全局状态管理中</p>
<p>子组件维护参数，触发事件emit出去(发送参数)，父组件on事件，并且调用拿到table组件ref，调用service，请求回来的数据放自己状态中或者vuex</p>
<p> 数据维护在父组件中（推荐）</p>
<p>​    发送查询的数据id等等，维护在查询的子组件中，主page通过回调函数传递给子组件，触发事件后拿到相应的数据，放在父组件page的状态中，在将state传给子组件 table来完成展示。</p>
<p>​        </p>
<p>​        concat，不改变原数组！！！！</p>
<p>​        in关键字，查找对象和原型对象的属性</p>
<p>​        <code>Object.seal()</code>方法封闭一个对象，阻止添加新属性并将所有现有属性标记为不可配置(不可删除属性)。当前属性的值只要原来是可写的就可以改变。（当前属性还是可以修改的writing）</p>
<p>​        <code>var x = 1;</code>声明的变量的作用域是它当前的执行上下文及其闭包（嵌套函数），如果是在所有函数之外，那么也是加在了全局对象身上(<code>window</code>或者<code>globalThis</code>)，<strong>但是在 Node.js CommonJS modules 以及原生 ECMAScript modules 中，顶层变量被声明在模块（module）的作用域内，而不是以属性的形式被添加到全局对象中。</strong></p>
<p>​        <code>y = 1;</code>没有修饰的声明变量，是隐式的全局变量，在node环境中，是加在了globalThis对象身上，而window，是在window身上<br>​        <code>console.log(globalThis.x); //undefined;</code><br>​        <code>console.log(globalThis.y); //1 </code></p>
<p>​        用代理给所有的对象方法加上try catch方法。</p>
<p>图片img标签如果让其携带请求头img：</p>
<ol>
<li><p>xhr发送请求，从img用获取自定义的属性（url值)，在xhr中设置请求头，之后在发送请求，再将img的url设置回去。</p>
</li>
<li><p>使用自定义元素，原理类似，在元素初始化的钩子中用xhr发送请求，之后相同。参考链接：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/Using_custom_elements">https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/Using_custom_elements</a></p>
</li>
</ol>
<p>对于一些用户自己修改的图片等等资源，缓存直接失效，资源的url已经改变。</p>
<p>路由：声明式<code>&lt;router-link&gt; &lt;NavLink&gt;</code>，编程式：<code>this.$touter.push, history.push</code></p>
<p>vue中如果不需要响应式数据，直接<code>Object.freeze（）</code>，冻结对象</p>
<p>歌词需求：对于整个歌词（第一句的paddding-top和最后一句的padding-bottom）都是整体，时间改变，当前歌词改变，当前歌词索引改变，可得去应该向上滚动的距离（歌词索引 * 行号）。scroll-top&#x3D; -（歌词索引 * 行号），关键实现就是歌词索引</p>
<p>函数形参问题： 如果参数是普通类型，怎么改都不影响原来的数据，如果是引用的话，直接改对象的地址，原来数据也不会变，改对象属性，会变</p>
<p>对于登陆来说，如果不使用https，中间人可以截取请求数据，那么前端做的什么加密都是没有的，因为后端不知道这是前端发的，还是中间劫持发送的。</p>
<p>后端是一定要加密的，如果对前端传来的数据不做任何处理，数据库泄密后，就想当与裸奔了。</p>
<p>获得目标日期距1970的毫秒数 <code>new Date(data).getTime();</code> ，默认值为当天日期</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">diffDay</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> diff = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>() - <span class="keyword">new</span> <span class="title class_">Date</span>(data).<span class="title function_">getTime</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(diff / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">diffDay</span>(<span class="string">&#x27;5 17, 2022 03:24:00&#x27;</span>));</span><br></pre></td></tr></table></figure>



<p>对于vue或则react的节点插入，teleport(泰勒破特)，poratal都是原生 的insertBefore</p>
<p>Promise 除了网络请求，定时器，微任务，延迟对象回调（父子组件，子组件中封装延迟对象，在子组件某个动作之后，emit到父组件，父组件拿到返回的结果），表单联合校验。异步组件等等</p>
<p>Symbol，每调用一次Symbol，都会返回一个独一的值，而Symbol.for()，会先查找有没有这个值，有的话返回相同的值</p>
<p>轮播图：将第一张图片拼在最后一张之后，动画结束后，直接拉回第一张开始。    </p>
<p>异或运算：寻找只出现一次数字，相同数异或&#x3D;&#x3D;0; 0和任何数异或&#x3D;&#x3D;任何数</p>
<p>include和indexof内部都是while循环，复杂度On</p>
<p>process.stdout.write node.js 打印不换行</p>
<p>二叉树中序遍历：左-&gt;中-&gt;右（所有的左子树遍历完，才遍历根）</p>
<p>v-modal实质 v-on绑定input等等事件，v-bind：绑定value，除了dom元素（input），还可以绑定组件，绑定组件的时候，父子组件传递的数据，是不可以被子组件修改的，需要子组件emit出去，父组件改变，而修饰符sync代表子组件可以修改父组件的值（不推荐）</p>
<p>组件的双向绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child</span>  <span class="attr">v-model:page</span>=<span class="string">&quot;pageInfo&quot;</span> &gt;</span> 绑定子组件将父状态pageInfo传入，重命名为page，否则为value，不够语意化</span><br><span class="line">watch（pageInfo，（）=&gt;...）//触发网络请求或者一些副作用，刷新页面。</span><br><span class="line"></span><br><span class="line">子组件中在props中声明接受的值，赋默认值，</span><br><span class="line">page: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    default: () =&gt; (&#123; currentPage: 0, pageSize: 10 &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">在子组件某处动作，触发事件，emit出去，父组件状态改变</span><br><span class="line">emit(&quot;update:page&quot;, &#123; ...props.page, pageSize &#125;);</span><br></pre></td></tr></table></figure>



<p>　 页面加载完成有两种事件，一是ready，表示文档结构已经加载完成（不包含图片等非文字媒体文件），二是onload，指示页面包含图片等文件在内的所有元素都加载完成。</p>
<p>　　ready事件在DOM结构绘制完成之后就会执行，这样能确保就算有大量的媒体文件没加载出来，JS代码一样可以执行。</p>
<p>　　load事件必须等到网页中所有内容全部加载完毕之后才被执行。如果一个网页中有大量的图片的话，则就会出现这种情况：网页文档已经呈现出来，但由于网页数据还没有完全加载完毕，导致load事件不能够即时被触发。</p>
<p>　　ready先执行。</p>
<p>promise中抛出的异常需要promise的catch捕获，如果只是使用普通的try catch，捕获不到 ，提示<code>[UnhandledPromise Rejection</code>,意义为要用promise自身捕获。</p>
<h3 id="正向代理和反向代理的区别"><a href="#正向代理和反向代理的区别" class="headerlink" title="正向代理和反向代理的区别"></a><strong>正向代理和反向代理的区别</strong></h3><p>虽然正向代理服务器和反向代理服务器所处的位置都是客户端和真实服务器之间，所做的事情也都是把客户端的请求转发给服务器，再把服务器的响应转发给客户端，但是二者之间还是有一定的差异的。</p>
<p>1、<strong>正向代理其实是客户端的代理</strong>，帮助客户端访问其无法访问的服务器资源。<strong>反向代理则是服务器的代理</strong>，帮助服务器做负载均衡，安全防护等。</p>
<p>2、<strong>正向代理一般是客户端架设的</strong>，比如在自己的机器上安装一个代理软件。而<strong>反向代理一般是服务器架设的</strong>，比如在自己的机器集群中部署一个反向代理服务器。</p>
<p>3、<strong>正向代理中，服务器不知道真正的客户端到底是谁</strong>，以为访问自己的就是真实的客户端。而在<strong>反向代理中，客户端不知道真正的服务器是谁</strong>，以为自己访问的就是真实的服务器。</p>
<p>4、正向代理和反向代理的作用和目的不同。<strong>正向代理主要是用来解决访问限制问题。而反向代理则是提供负载均衡、安全防护等作用。二者均能提高访问速度。</strong></p>
<h5 id="下面两者相等！"><a href="#下面两者相等！" class="headerlink" title="下面两者相等！"></a>下面两者相等！</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;     </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>); <span class="comment">//3</span></span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>) &#125;</span><br><span class="line"><span class="comment">//async 相当于默认返回promise,如果返回的是非promise，或者不返回，都是默认返回fulfilled状态的promise</span></span><br></pre></td></tr></table></figure>



<p>在location的url中按下 enter ，不会携带请求头</p>
<h3 id="上传图片的方式"><a href="#上传图片的方式" class="headerlink" title="上传图片的方式"></a>上传图片的方式</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903982574338061#heading-0">https://juejin.cn/post/6844903982574338061#heading-0</a></p>
<p>await 会将它后面的代码推入微任务队列</p>
<p>​    函数声明是语句，声明放在内存中，是拥有变量提升的，而函数表达式，是相当于赋值的一个操作。</p>
<p>arr.splice(2, 1); 从索引2开始，删除1个元素</p>
<p>不要在块级以函数申明的方式定义函数。使用如此方式定义函数，在严格模式下会报错。如此定义函数的结果会导致function foo变量提升，相当于在if的外层作用域生命了一个 var foo &#x3D; undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">args</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> args;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="comment">//如此声明的函数a，会打印出undefined，也就是说function a 变量提升了。</span></span><br></pre></td></tr></table></figure>



<p>图片预览：<code>URL.createObjectURL(file)</code>得到本地内存容器的<code>URL</code>地址，方便预览，<strong>多次使用需要注意手动释放内存的问题</strong>，性能优秀。 <code>FileReader.readAsDataURL(file)</code>胜在直接转为<code>base64</code>格式，可以直接用于业务，无需二次转换格式。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> input = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.input&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> img = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.img&quot;</span>)</span><br><span class="line">    input.<span class="title function_">addEventListener</span>(<span class="string">&quot;change&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> file = <span class="variable language_">this</span>.<span class="property">files</span>[<span class="number">0</span>]</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(file)</span><br><span class="line">      <span class="keyword">const</span> url = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(file)</span><br><span class="line">      img.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>, url)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>



<p>对于protected声明的属性，可以在子类中访问此属性。不能在实现对象中fa访问。</p>
<p>对于Vue的v-on可以绑定多个事件比如说</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-on=&quot;&#123; mousedown:onInput,mouseup:onFocus,mouseenter:onBlur&#125;&quot; &gt;盒子&lt;/div&gt;//可以正常执行不同方法</span><br></pre></td></tr></table></figure>



<p>异步事件的try-catch</p>
<h4 id="为什么异步抛出的err，catch不住呢？"><a href="#为什么异步抛出的err，catch不住呢？" class="headerlink" title="为什么异步抛出的err，catch不住呢？"></a>为什么异步抛出的err，catch不住呢？</h4><p>因为 try-catch 是同步捕获，异步里抛出的异常它捕获不了，因为堆栈上下文变了。</p>
<p>如何解决</p>
<p>对于promise，reject抛出的异步异常，我们需要使用async和await来包裹，否则是catch不住错误的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">sendData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>), <span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sendData</span>();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>



<p>Reflect是一个内建的对象，用来提供方法去拦截JavaScript的操作。定义属性，改变函数作用域，设置属性，删除属性，遍历对象的key和symbol值，</p>
<p>对于一个节点调用querySelector，只会寻找符合条件的子节点,即使是父节点符合查找条件，也不会返回父节点</p>
<p>判断对象是否是可迭代对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">isIterable</span> = (<span class="params">obj</span>) =&gt; obj != <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> obj[<span class="title class_">Symbol</span>.<span class="property">iterator</span>] == <span class="string">&#x27;function&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>设置一个对象的symbol值</p>
<p>querySelectorAll获得到是类数组(NodeList)类型，虽然是类数组但是是可以使用forEach的方法的，</p>
<p>getElementsByClassName、getElementsByName这种返回的都是类数组（HTMLCollection），并且没有forEach等方法</p>
<p>对于dom节点的children和childNodes，</p>
<p>childNodes 属性返回所有的节点，<strong>包括文本节点、注释节点</strong>（同时需要注意的一点，对于标签的默认换行也会有一个空白的文本节点<strong>NodeList类型</strong></p>
<p>children 属性<strong>只返回元素节点,HTMLCollection 类型</strong></p>
<p>Element.classList 是一个只读属性，返回一个元素 <code>class</code> 属性的动态 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/DOMTokenList"><code>DOMTokenList</code></a> 集合。这可以用于操作 class 集合</p>
<p>写在样式表里，就比如#div1{width:120px;}。这中情况通过#div1.style.width拿不到宽度，<strong>而通过#div1.offsetWidth才可以获取到宽度</strong>。</p>
<p>写在行内中，比如style&#x3D;”width:120px;”，这中情况通过上述2个方法都能拿到宽度。</p>
<p>小结，因为id.offsetWidth和id.offsetHeight无视样式写在样式表还是行内，所以我们获取元素宽和高的时候最好用这2个属性。注意如果不是写</p>
<p>在行内style中的属性都不能通过id.style.atrr来获取。</p>
<p>对于Number(1)，Boolean(false)如此写法得到的仍然是普通类型，类型是number，boolean</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Boolean</span>(<span class="literal">false</span>)===<span class="literal">false</span>;</span><br><span class="line"><span class="title class_">Number</span>(<span class="number">10</span>)===<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Boolean</span>(<span class="literal">false</span>)<span class="comment">// boolean  </span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Number</span>(<span class="number">1</span>) <span class="comment">// number</span></span><br><span class="line"><span class="keyword">typeof</span> (<span class="function">() =&gt;</span> <span class="number">1</span>, <span class="function">() =&gt;</span> <span class="string">&#x27;1&#x27;</span>)()<span class="comment">// string ,不是很懂</span></span><br></pre></td></tr></table></figure>



<p>字符串，通过下标改变，是无法改变字符串的，因为字符串是不可变的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">str[<span class="number">1</span>] = <span class="string">&#x27;modified&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str);<span class="comment">///hello</span></span><br></pre></td></tr></table></figure>



<p>函数重复声明问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(foo);<span class="comment">//[Function: a]</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a);<span class="comment">//[Function: a]</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a === foo);<span class="comment">//true</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">foo</span>();<span class="comment">//没有异常</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)<span class="comment">//a is not defined 会报出这样的错误</span></span><br></pre></td></tr></table></figure>

<p>我分析应该是function a 先作用域提升，var foo &#x3D; undefined；之后function a的地址给了foo，并且function a 函数销毁；</p>
<p>剩余参数数组(rest参数)，只能出现在参数最后，并且不可有默认值，数组的length属性是不可枚举的属性。所以for in 遍历不出来。</p>
<p>Math.ceil(),大于等于参数的最小整数值</p>
<p>解构赋值起别名后原属性名不可用</p>
<p>alert() 是 window 的内置函数，被认为是同步 CPU代码，所以JavaScript 引擎会优先执行同步代码，alert 弹窗先出现；alert 有特殊的阻塞性质，JavaScript 引擎的执行被阻塞住；点击 alert 的“确定”，JavaScript 没有了阻塞，执行完同步代码后，又读取事件队列里的异步任务（这个时候才发起网络请求）。</p>
<p>当浏览器在显示与会话历史记录不同的页面的过程中隐藏当前页面时，**<code>pagehide</code>**(页面隐藏) 事件会被发送到一个<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window"><code>Window</code></a> 。例如，当用户单击浏览器的“后退”按钮时，当前页面在显示上一页之前会收到一个<code>pagehide</code>(页面隐藏) 事件。不支持冒泡</p>
<p>字符串的split方法，如果没有目标截取字符，将会返回单一元素原字符串的数组形式</p>
<p>偶现（bug偶然出现问题）：</p>
<p>​    偶现的问题肯定是程序的 bug，属于隐患型 bug，需满足特定的条件才能出现。 应该是开发者忽略了一或多种非正常情况下的 IO 方式或 IO 数据造成的。 根据个人经验，百分之 90 以上是由非正常数据造成的。</p>
<ol>
<li>后端环境不一致，自己的操作和环境配置与之前的开发环境不一致，前置操作或者环境网络配置都有可能是问题的原因</li>
<li>若重现问题，可对比正常现象，用控制变量法逐步定位问题复现条件；</li>
<li>如果开发时间允许，可联系开发一起 review 代码逻辑。</li>
<li>程序debug，打印log</li>
<li>分析问题bug的规律</li>
</ol>
<p>​    manifest 的目的是将Web 应用程序安装到设备的主屏幕，为用户提供更快的访问和更丰富的体验。 Web 应用程序清单是被称为渐进式Web 应用程序(PWA)的Web 技术集合的一部分，它们是可以安装到设备的主屏幕的网络应用程序，而不需要用户通过应用商店，伴随着其他功能，比如离线可用和接收推送通知</p>
<p>​    解决网络请求竞态问题：打断请求xhr的abort axios的canceltoken。</p>
<p>​    空字符串为false；！！转化&#x3D;&#x3D;&#x3D;false</p>
<p>​    js中，一个数字 8个字节（byte），字母或者字符1个字节，汉字两个字节。 UTF-8 编码中：中文三个字节。</p>
<p>​    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> x = <span class="title class_">String</span>(<span class="string">&#x27;false&#x27;</span>);<span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line"><span class="keyword">const</span> y = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;false&#x27;</span>); <span class="comment">//[String: &#x27;false&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x === y); <span class="comment">//false ,如果y=String(&quot;false&quot;)，那么是相等的</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">num1</span>: <span class="number">117</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> res = obj;</span><br><span class="line">obj.<span class="property">child</span> = obj = &#123; <span class="attr">num2</span>: <span class="number">935</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> x = y = res.<span class="property">child</span>.<span class="property">num2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">child</span>);<span class="comment">//undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">num1</span>);<span class="comment">//117</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y);<span class="comment">//935</span></span><br></pre></td></tr></table></figure>

<p>重点：先定义变量（从左到右），在进行赋值（从右到左）</p>
<p>先在{num1:117} 上定义了child属性，在堆中声明了 { num2: 935 }，给了obj，同时</p>
<p>Obj.child记住了这条线，</p>
<p><strong>Object.preventExtensions ()创建一个不可 扩展的对象</strong> 。 该方法接受1个参数，被 禁止扩展 的 对象 。 对象 被 禁止扩展 后，就永远不能再给它添加新的 属性 了。</p>
<p>Object.freeze是浅冻结。要是深层冻结的话，使用递归冻结</p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">
    
    <a class="pull-left" href="/4-Promise/%E5%BC%82%E6%AD%A5%E4%B8%B2%E8%A1%8C/" style="float: left;">
        ← 异步串行
    </a>
    
    
    <a class="pull-right" href="/%E5%9F%BA%E7%A1%80%E8%A1%A5%E5%85%85/%E5%AE%9E%E4%B9%A0%E9%9A%BE%E7%82%B9%E6%80%BB%E7%BB%93/">
        实习难点总结 →
    </a>
    
</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By 盛祥玉. All Rights Reserved.
                </p>
                <p>Theme By <a target="_blank" rel="noopener" href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/Yxgm" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



      
</body>
</html>
